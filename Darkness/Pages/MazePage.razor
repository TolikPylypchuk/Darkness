@page "/maze"
@page "/maze.html"
@layout EmptyLayout

<PageTitle>Maze | Darkness</PageTitle>

<div @ref="this.PageContainer" @onkeydown="this.OnKeyDown" class="maze-page" tabindex="0">
    <nav>
        <div class="back">
            <MudButton Variant="Variant.Outlined" Color="Color.Secondary" StartIcon="@Icons.Material.Filled.ArrowBack"
                       @onclick="async () => await this.BackToHomePage()">
                Go Back
            </MudButton>
        </div>

        <div class="back-mobile">
            <MudIconButton Icon="@Icons.Material.Filled.ArrowBack" Variant="Variant.Outlined" Color="Color.Secondary"
                           @onclick="async () => await this.BackToHomePage()" aria-label="Back" />
            <MudText Typo="Typo.h5">Darkness</MudText>
        </div>

        <MudText Typo="Typo.h5" Class="title">Darkness</MudText>

        <div class="info">
            @if (this.IsLoaded)
            {
                <MudText Typo="Typo.body1" Class="timer">@this.TimerText</MudText>
                <MudIconButton Icon="@Icons.Material.Filled.Info" Color="Color.Secondary" Size="Size.Large"
                               @onclick="this.ShowInfoDialog" aria-label="Info" />
            }
        </div>
    </nav>

    <main>
        @if (this.IsLoaded)
        {
            <MazeCanvas @ref="this.MazeCanvas" Settings="this.Settings" Maze="this.Maze" Finished="this.OnFinished" />
        } else
        {
            <div class="placeholder-container">
                <MudText Typo="Typo.h3" Class="ma-4">Creating the maze...</MudText>
                <MudProgressLinear Color="Color.Primary" Indeterminate="true" Class="ma-4" />
            </div>
        }
    </main>
</div>
